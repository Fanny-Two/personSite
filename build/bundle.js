!function(e){function t(e){var t=require("./"+e+"."+o+".hot-update.js");!function(e,t){if(!m[e]||!v[e])return;for(var n in v[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(f[n]=t[n]);0==--h&&0===y&&_()}(t.id,t.modules)}var n,r=!0,o="c4c495b1fca1cf491834",i={},c=[],a=[];function l(e){var t=H[e];if(!t)return D;var r=function(r){return t.hot.active?(H[r]?-1===H[r].parents.indexOf(e)&&H[r].parents.push(e):(c=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),c=[]),D(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===s&&u("prepare"),y++,D.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===s&&(b[e]||O(e),0===y&&0===h&&_())}},r.t=function(e,t){return 1&t&&(e=r(e)),D.t(e,-2&t)},r}var d=[],s="idle";function u(e){s=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var p,f,g,h=0,y=0,b={},v={},m={};function w(e){return+e+""===e?+e:e}function x(e){if("idle"!==s)throw new Error("check() is only allowed in idle status");return r=e,u("check"),function(){try{var e=require("./"+o+".hot-update.json")}catch(e){return Promise.resolve()}return Promise.resolve(e)}().then(function(e){if(!e)return u("idle"),null;v={},b={},m=e.c,g=e.h,u("prepare");var t=new Promise(function(e,t){p={resolve:e,reject:t}});f={};return O(0),"prepare"===s&&0===y&&0===h&&_(),t})}function O(e){m[e]?(v[e]=!0,h++,t(e)):b[e]=!0}function _(){u("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return E(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&t.push(w(n));e.resolve(t)}}function E(t){if("ready"!==s)throw new Error("apply() is only allowed in ready status");var n,r,a,l,d;function p(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,c=o.chain;if((l=H[i])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var a=0;a<l.parents.length;a++){var d=l.parents[a],s=H[d];if(s){if(s.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([d]),moduleId:i,parentId:d};-1===t.indexOf(d)&&(s.hot._acceptedDependencies[i]?(n[d]||(n[d]=[]),h(n[d],[i])):(delete n[d],t.push(d),r.push({chain:c.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var y={},b=[],v={},x=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)){var _;d=w(O);var E=!1,q=!1,I=!1,j="";switch((_=f[O]?p(d):{type:"disposed",moduleId:O}).chain&&(j="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(E=new Error("Aborted because of self decline: "+_.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(_),t.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(_),t.ignoreUnaccepted||(E=new Error("Aborted because "+d+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(_),q=!0;break;case"disposed":t.onDisposed&&t.onDisposed(_),I=!0;break;default:throw new Error("Unexception type "+_.type)}if(E)return u("abort"),Promise.reject(E);if(q)for(d in v[d]=f[d],h(b,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,d)&&(y[d]||(y[d]=[]),h(y[d],_.outdatedDependencies[d]));I&&(h(b,[_.moduleId]),v[d]=x)}var M,P=[];for(r=0;r<b.length;r++)d=b[r],H[d]&&H[d].hot._selfAccepted&&P.push({module:d,errorHandler:H[d].hot._selfAccepted});u("dispose"),Object.keys(m).forEach(function(e){!1===m[e]&&function(e){delete installedChunks[e]}(e)});for(var k,R,A=b.slice();A.length>0;)if(d=A.pop(),l=H[d]){var C={},T=l.hot._disposeHandlers;for(a=0;a<T.length;a++)(n=T[a])(C);for(i[d]=C,l.hot.active=!1,delete H[d],delete y[d],a=0;a<l.children.length;a++){var S=H[l.children[a]];S&&((M=S.parents.indexOf(d))>=0&&S.parents.splice(M,1))}}for(d in y)if(Object.prototype.hasOwnProperty.call(y,d)&&(l=H[d]))for(R=y[d],a=0;a<R.length;a++)k=R[a],(M=l.children.indexOf(k))>=0&&l.children.splice(M,1);for(d in u("apply"),o=g,v)Object.prototype.hasOwnProperty.call(v,d)&&(e[d]=v[d]);var L=null;for(d in y)if(Object.prototype.hasOwnProperty.call(y,d)&&(l=H[d])){R=y[d];var $=[];for(r=0;r<R.length;r++)if(k=R[r],n=l.hot._acceptedDependencies[k]){if(-1!==$.indexOf(n))continue;$.push(n)}for(r=0;r<$.length;r++){n=$[r];try{n(R)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:R[r],error:e}),t.ignoreErrored||L||(L=e)}}}for(r=0;r<P.length;r++){var U=P[r];d=U.module,c=[d];try{D(d)}catch(e){if("function"==typeof U.errorHandler)try{U.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:n,originalError:e}),t.ignoreErrored||L||(L=n),L||(L=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||L||(L=e)}}return L?(u("fail"),Promise.reject(L)):(u("idle"),new Promise(function(e){e(b)}))}var H={};function D(t){if(H[t])return H[t].exports;var r=H[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:x,apply:E,status:function(e){if(!e)return s;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:i[e]};return n=void 0,t}(t),parents:(a=c,c=[],a),children:[]};return e[t].call(r.exports,r,r.exports,l(t)),r.l=!0,r.exports}D.m=e,D.c=H,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)D.d(n,r,function(t){return e[t]}.bind(null,r));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="",D.h=function(){return o},l(6)(D.s=6)}([function(e,t,n){const r=n(11),o=n(13);e.exports=[o,r]},function(e,t){var n="info";function r(){}function o(e){return"info"===n&&"info"===e||["info","warning"].indexOf(n)>=0&&"warning"===e||["info","warning","error"].indexOf(n)>=0&&"error"===e}function i(e){return function(t,n){o(t)&&e(n)}}e.exports=function(e,t){o(e)&&("info"===e?console.log(t):"warning"===e?console.warn(t):"error"===e&&console.error(t))};var c=console.group||r,a=console.groupCollapsed||r,l=console.groupEnd||r;e.exports.group=i(c),e.exports.groupCollapsed=i(a),e.exports.groupEnd=i(l),e.exports.setLogLevel=function(e){n=e}},function(e,t){e.exports=require("next")},function(e,t){e.exports={port:3e3,mysql:{host:"120.78.71.60",user:"root",password:"genluo123",database:"personSite",HOST:"localhost"}}},function(e,t){e.exports=require("koa-router")},function(e,t,n){const r=n(3),o=n(18).createPool(r.mysql);e.exports={query:(e,t)=>new Promise((n,r)=>{o.getConnection((o,i)=>{o?r(o):i.query(e,t,(e,t)=>{e?r(e):n(t),i.release()})})})}},function(e,t,n){n(7),e.exports=n(9)},function(e,t,n){(function(t){var r=+t.substr(1)||6e5,o=n(1);setInterval(function t(r){"idle"===e.hot.status()&&e.hot.check(!0).then(function(e){e?(n(8)(e,e),t(!0)):r&&o("info","[HMR] Update applied.")}).catch(function(t){var n=e.hot.status();["abort","fail"].indexOf(n)>=0?(o("warning","[HMR] Cannot apply update."),o("warning","[HMR] "+(t.stack||t.message)),o("warning","[HMR] You need to restart the application!")):o("warning","[HMR] Update failed: "+(t.stack||t.message))})},r)}).call(this,"?1000")},function(e,t,n){e.exports=function(e,t){var r=e.filter(function(e){return t&&t.indexOf(e)<0}),o=n(1);(r.length>0&&(o("warning","[HMR] The following modules couldn't be hot updated: (They would need a full reload!)"),r.forEach(function(e){o("warning","[HMR]  - "+e)})),t&&0!==t.length)?(o("info","[HMR] Updated modules:"),t.forEach(function(e){if("string"==typeof e&&-1!==e.indexOf("!")){var t=e.split("!");o.groupCollapsed("info","[HMR]  - "+t.pop()),o("info","[HMR]  - "+e),o.groupEnd("info")}else o("info","[HMR]  - "+e)}),t.every(function(e){return"number"==typeof e})&&o("info","[HMR] Consider using the NamedModulesPlugin for module names.")):o("info","[HMR] Nothing hot updated.")}},function(e,t,n){const r=n(2);console.log("环境配置",!1);const o=r({dev:!1}),i=o.getRequestHandler(),c=n(3),a=n(10);var l=n(0);const d=parseInt(process.env.PORT,10)||c.port,s=n(5),u=n(20),p=n(21);o.prepare().then(()=>{const e=new a;e.use(u()),e.use(async(e,t)=>{e.mysql=s,await t()}),l.map(t=>{e.use(t.routes())}),e.use(async e=>{await i(e.req,e.res),e.respond=!1}),e.use(async(e,t)=>{e.res.statusCode=200,await t()}),e.listen(d,e=>{if(e)throw e;console.info(`> Ready on http://localhost:${d}`)})}),p.watch(0,function(){!function(e){n.c[e]=null}(0);try{l=n(0)}catch(e){console.error("module update failed")}})},function(e,t){e.exports=require("koa")},function(e,t,n){const r=n(4),o=n(2)({dev:!1}),i=new r,c=new(n(12))({max:100,maxAge:36e5});function a(e,t,n){const r=function(e){return`${e.req.url}`}(e);if(!c.has(r))return o.renderToHTML(e.req,e.res,t,n||e.params).then(t=>{e.body=t,c.set(r,t)}).catch(r=>(console.log("render error"),o.renderError(r,e.req,e.res,t,n)));e.body=c.get(r)}o.prepare().then(()=>{i.get("/",e=>a(e,"/")),i.get("/blog/tag",e=>a(e,"/blog/tag")),i.get("/blog/category",e=>a(e,"/blog/category")),i.get("/blog",e=>a(e,"/blog")),i.get("/blog/archives",e=>a(e,"/blog/archives")),i.get("/blog/tag/:tagId",e=>a(e,"/blog/archives")),i.get("/blog/:id",e=>a(e,"/blog/article")),i.get("/blog/category/:cateId",e=>a(e,"/blog/archives")),i.get("/resume",e=>a(e,"/resume")),i.get("/about",e=>a(e,"/about"))}),e.exports=i},function(e,t){e.exports=require("lru-cache")},function(e,t,n){const r=n(4),o=n(14),i=new r;i.post("/api/article/list",o.client.articleList),i.post("/api/article/content/:id",o.client.articleContent),i.post("/api/article/detail/:id",o.client.articleDetail),i.post("/api/tag/list",o.client.tagList),i.post("/api/category/list",o.client.categroyList),i.get("/api/statistics/detail"),e.exports=i},function(e,t,n){const r=n(15);e.exports={client:r}},function(e,t,n){const r=n(16),o=n(19);e.exports={articleList:async function(e,t){const{page:n,tagId:i,categroyId:c}=e.request.body;let a=null;try{a=await r.blog.getArticle({page:n,tagId:i,categroyId:c}),e.body={...o.ok,data:a}}catch(t){console.log("================================articleList================",t),e.body=o.datebaseError}},tagList:async function(e,t){let n=null;try{n=await r.blog.getTag(),e.body={...o.ok,data:n}}catch(t){e.body=o.datebaseError}},categroyList:async function(e,t){let n=null;try{n=await r.blog.getCategroy(),e.body={...o.ok,data:n}}catch(t){e.body=o.datebaseError}},articleContent:async function(e,t){const{id:n}=e.params;let i=null;try{i=await r.blog.getContent({id:n}),e.body={...o.ok,data:i}}catch(t){console.log("===============获取内容=============",t),e.body=o.datebaseError}},articleDetail:async function(e,t){const{id:n}=e.params;let i=null;try{i=await r.blog.getDetail({id:n}),e.body={...o.ok,data:i}}catch(t){console.log("===============文章详情=============",t),e.body=o.datebaseError}}}},function(e,t,n){const r=n(17);e.exports={blog:r}},function(e,t,n){const r=n(5);async function o({page:e=1,tagId:t,categroyId:n,id:o},i=!1){let c=`\n    SELECT\n      title,\n      update_time,\n      read_num,\n      descript,\n      create_time,\n      STATUS,\n      categroy_id,\n      ${i?"content,":""}\n      name as 'categroy_name',\n      article.id AS 'article_id'\n    FROM\n      article,\n      categroy\n    WHERE\n      article.categroy_id = categroy.id \n      ${o?`\n      and article.id = ${o}\n      `:""}\n      ${t?`\n      and article.id in (\n        select article_id from article_tag where tag_id = ${t}\n      )\n      `:""}\n      ${n?"and categroy_id ="+n:""}\n    LIMIT ${10*(e-1)},\n    10;\n  `;console.log(c);let a=[];try{let t=await r.query(c);a={pagination:{page:e,pageNum:(await r.query("select count(*) FROM article"))[0]["count(*)"]},list:t}}catch(e){throw e}return a}e.exports={getArticle:o,getTag:async function(){let e=null;try{e=await r.query("select * from tag")}catch(e){throw e}return e},getCategroy:async function(){let e=null;try{e=await r.query("select * from categroy")}catch(e){throw e}return e},getContent:async function({id:e}){let t=`select content from article where id=${e}`,n=await r.query(t);return n[0]&&n[0].content||null},getDetail:async function({id:e}){return(await o({id:e},!0)).list[0]||null}}},function(e,t){e.exports=require("mysql")},function(e,t){e.exports={ok:{code:10001},error:{code:20001,data:null},datebaseError:{code:20002,data:null}}},function(e,t){e.exports=require("koa-body")},function(e,t){e.exports=require("fs")}]);